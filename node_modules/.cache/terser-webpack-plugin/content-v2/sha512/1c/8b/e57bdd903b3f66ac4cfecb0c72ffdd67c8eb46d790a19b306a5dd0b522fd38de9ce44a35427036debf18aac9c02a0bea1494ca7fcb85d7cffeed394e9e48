{"code":"(this[\"webpackJsonptb-admin\"]=this[\"webpackJsonptb-admin\"]||[]).push([[0],{470:function(e,t,r){},682:function(e,t,r){\"use strict\";r.r(t);var n=r(8),a=r(0),c=r.n(a),s=r(20),i=r.n(s),o=(r(470),r(772)),u=r(771),d=r(25),l=r(21),f=r.n(l),b=r(42),p=r(145),h=r(34),j=(r(231),r(290),{userProfilePath:\"/admin/\",userAdminProp:\"is_admin\",localStorageTokenName:\"RAFirebaseClientToken\",handleAuthStateChange:function(){var e=Object(b.a)(f.a.mark((function e(t,r){var n,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return e.next=3,h.a.firestore().doc(r.userProfilePath+t.user.uid).get();case 3:if(n=e.sent,a=n.data(),console.log(\"gisng\",r.userProfilePath+t.user.uid),!a||!a[r.userAdminProp]){e.next=15;break}return e.next=9,t.user.getIdToken();case 9:return c=e.sent,s={auth:t,profile:a,firebaseToken:c},localStorage.setItem(r.localStorageTokenName,c),e.abrupt(\"return\",s);case 15:throw h.a.auth().signOut(),localStorage.removeItem(r.localStorageTokenName),new Error(\"sign_in_error\");case 18:e.next=22;break;case 20:throw localStorage.removeItem(r.localStorageTokenName),new Error(\"sign_in_error\");case 22:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object(d.a)(Object(d.a)({},j),e);var t=function(){return new Promise((function(e){h.a.auth().onAuthStateChanged(e)}))};return function(){var r=Object(b.a)(f.a.mark((function r(n,a){var c,s,i,o,u;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n!==p.e){r.next=3;break}return e.handleAuthStateChange(null,e).catch((function(){})),r.abrupt(\"return\",h.a.auth().signOut());case 3:if(!h.a.auth().currentUser){r.next=6;break}return r.next=6,h.a.auth().currentUser.reload();case 6:if(n!==p.a){r.next=12;break}return r.next=9,t();case 9:if(h.a.auth().currentUser){r.next=11;break}throw new Error(\"sign_in_error\");case 11:return r.abrupt(\"return\",!0);case 12:if(n!==p.c){r.next=22;break}return console.log(\"AUTH_GET_PERMISSIONS\"),r.next=16,t();case 16:if(h.a.auth().currentUser){r.next=18;break}throw new Error(\"sign_in_error\");case 18:return r.next=20,h.a.auth().currentUser.getIdTokenResult();case 20:return c=r.sent,r.abrupt(\"return\",c.claims);case 22:if(n!==p.d){r.next=30;break}if(s=a.username,i=a.password,o=a.alreadySignedIn,(u=h.a.auth().currentUser)&&o){r.next=29;break}return r.next=28,h.a.auth().signInWithEmailAndPassword(s,i);case 28:u=r.sent;case 29:return r.abrupt(\"return\",e.handleAuthStateChange(u,e));case 30:return r.abrupt(\"return\",!1);case 31:case\"end\":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},x=r(266),O=r(156),g=r(144),w=(r(683),r(361)),v=r.n(w),k=r(63),y=function(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e.rawFile),n.onload=function(){return t(n.result)},n.onerror=r}))},_=function(e){return new Promise((function(t){var r=document.createElement(\"img\");r.onload=function(){t({width:this.width,height:this.height})},r.src=e.src}))},S=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n,a,c){var s,i,o,u,d,l,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r[t]){e.next=3;break}return e.abrupt(\"return\",!1);case 3:if(s=Array.isArray(s)?s[0]:s,i=s.rawFile,o={},!(s&&i&&i.name)){e.next=32;break}return u=h.a.storage().ref().child(\"\".concat(c,\"/\").concat(n,\"/\").concat(t)),e.next=10,u.put(i);case 10:return d=e.sent,e.next=13,d.ref.getDownloadURL();case 13:if(l=e.sent,o[t]=[{}],o[t][0].uploadedAt=new Date,o[t][0].src=l,o[t][0].type=i.type,o[t][0].name=i.name,0!==i.type.indexOf(\"image/\")){e.next=31;break}return e.prev=20,e.next=23,_(s);case 23:b=e.sent,o[t][0].width=b.width,o[t][0].height=b.height,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(20),console.error(\"Failed to get image dimensions\");case 31:return e.abrupt(\"return\",o);case 32:return e.abrupt(\"return\",!1);case 33:case\"end\":return e.stop()}}),e,null,[[20,28]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n,a,c,s,i,o,u){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i&&i.map((function(e){return!!e&&Object.assign(r,e)})),o&&Object.assign(r,Object(O.a)({},u.createdAt,new Date)),(r=Object.assign(n,Object(O.a)({},u.updatedAt,new Date),r)).id||(r.id=t),e.next=6,h.a.firestore().doc(\"\".concat(c,\"/\").concat(r.id)).set(s(r));case 6:return e.abrupt(\"return\",{data:r});case 7:case\"end\":return e.stop()}}),e)})));return function(t,r,n,a,c,s,i,o,u){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length&&a.map((function(e){return h.a.storage().ref().child(\"\".concat(n,\"/\").concat(t,\"/\").concat(e)).delete()})),e.next=3,h.a.firestore().doc(\"\".concat(n,\"/\").concat(t)).delete();case 3:return e.abrupt(\"return\",{data:t});case 4:case\"end\":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return h.a.firestore().doc(\"\".concat(r,\"/\").concat(e)).delete()}));case 2:return e.abrupt(\"return\",{data:t});case 3:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=13;break}return e.next=3,h.a.firestore().collection(r).doc(t.id).get();case 3:if(!(a=e.sent).exists){e.next=10;break}return(c=a.data())&&null==c.id&&(c.id=a.id),e.abrupt(\"return\",{data:c});case 10:throw new Error(\"Id not found\");case 11:e.next=14;break;case 13:throw new Error(\"Id not found\");case 14:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n){var a,c,s,i,o,u,d,l,b,p,j,m,O,g,w;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pagination){e.next=19;break}return a=[],e.next=4,h.a.firestore().collection(r).get();case 4:c=e.sent,s=Object(x.a)(c.docs);try{for(s.s();!(i=s.n()).done;)o=i.value,(u=o.data())&&null==u.id&&(u.id=o.id),a.push(u)}catch(n){s.e(n)}finally{s.f()}return t.filter&&(a=a.filter((function(e){for(var r=!0,n=0,a=Object.keys(t.filter);n<a.length;n++){var c=a[n];r=e[c]===t.filter[c]}return r}))),t.sort&&a.sort(v()(\"\".concat(\"ASC\"===t.sort.order?\"\":\"-\").concat(t.sort.field))),d=a.map((function(e){return e.id})),l=t.pagination,b=l.page,p=l.perPage,j=(b-1)*p,m=b*p,O=a?a.slice(j,m):[],g=d.slice(j,m)||[],w=a?a.length:0,e.abrupt(\"return\",{data:O,ids:g,total:w});case 19:throw new Error(\"Error processing request\");case 20:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n){var a,c,s,i,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object(x.a)(t.ids),e.prev=2,c.s();case 4:if((s=c.n()).done){e.next=13;break}return i=s.value,e.next=8,I({id:i},r,n);case 8:o=e.sent,u=o.data,a.push(u);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:return e.abrupt(\"return\",{data:a});case 22:case\"end\":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(t,r,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(f.a.mark((function e(t,r,n){var a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target){e.next=11;break}return t.filter||(t.filter={}),t.filter[t.target]=t.id,e.next=5,T(t,r,n);case 5:return a=e.sent,c=a.data,s=a.total,e.abrupt(\"return\",{data:c,total:s});case 11:throw new Error(\"Error processing request\");case 12:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),C={upload:S,save:D,del:P,delMany:A,getItemID:function(e,t,r,n,a){var c=e.data.id||e.id||e.data.key||e.key;if(c||(c=h.a.firestore().collection(n).doc().id),!c)throw new Error(\"ID is required\");if(a&&a[c]&&t===k.a)throw new Error(\"ID already in use\");return c},getOne:I,getList:T,getMany:E,getManyReference:F,addUploadFeature:function(e){return function(t,r,n){if(\"UPDATE\"===t&&n.data.image&&n.data.image.length){var a=n.data.image.filter((function(e){return!(e.rawFile instanceof File)})),c=n.data.image.filter((function(e){return e.rawFile instanceof File}));return Promise.all(c.map(y)).then((function(e){return e.map((function(e){return{src:e,title:\"\".concat(n.data.title)}}))})).then((function(c){return e(t,r,Object(d.a)(Object(d.a)({},n),{},{data:Object(d.a)(Object(d.a)({},n.data),{},{image:[].concat(Object(g.a)(c),Object(g.a)(a))})}))}))}return e(t,r,n)}},convertFileToBase64:y},M={initialQuerytimeout:1e4,timestampFieldNames:{createdAt:\"createdAt\",updatedAt:\"updatedAt\"}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t=Object.assign({},M,t),n=r.timestampFieldNames,a=r.trackedResources,c={},s={},i={},o={};0===h.a.apps.length&&(h.a.initializeApp(e),h.a.auth().setPersistence(h.a.auth.Auth.Persistence.SESSION));var u=t.upload||C.upload,d=t.save||C.save,l=t.del||C.del,p=t.getItemID||C.getItemID,j=t.getOne||C.getOne,m=t.getMany||C.getMany,x=t.getManyReference||C.getManyReference,O=t.delMany||C.delMany,g=t.getList||C.getList,w=t.firebaseSaveFilter?t.firebaseSaveFilter:function(e){return e};return a.map((function(e,t){typeof e===Array&&(e={name:e.name,path:e.path||e.name,uploadFields:e.uploadFields||[]},a[t]=e);var r=e,n=r.name,c=r.path,u=r.uploadFields;if(!e.name)throw new Error(\"name is missing from resource \".concat(e));o[n]=u||[],i[n]=c||n,s[n]={}})),function(){var e=Object(b.a)(f.a.mark((function e(t,r,a){var b,h,v,y,_,S;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c[r];case 2:b=null,e.t0=t,e.next=e.t0===k.d?6:e.t0===k.e?10:e.t0===k.f?14:e.t0===k.g?18:e.t0===k.b?22:e.t0===k.c?27:e.t0===k.h||e.t0===k.a?31:41;break;case 6:return e.next=8,g(a,i[r],s[r]);case 8:return b=e.sent,e.abrupt(\"return\",b);case 10:return e.next=12,m(a,i[r],s[r]);case 12:return b=e.sent,e.abrupt(\"return\",b);case 14:return e.next=16,x(a,i[r],s[r]);case 16:return b=e.sent,e.abrupt(\"return\",b);case 18:return e.next=20,j(a,i[r],s[r]);case 20:return b=e.sent,e.abrupt(\"return\",b);case 22:return h=o[r]?o[r]:[],e.next=25,l(a.id,r,i[r],h);case 25:return b=e.sent,e.abrupt(\"return\",b);case 27:return e.next=29,O(a.ids,i[r],s[r]);case 29:return b=e.sent,e.abrupt(\"return\",b);case 31:return v=p(a,t,r,i[r],s[r]),y=o[r]?o[r].map((function(e){return u(e,a.data,v,r,i[r])})):[],_=s[r][v]||{},e.next=36,Promise.all(y);case 36:return S=e.sent,e.next=39,d(v,a.data,_,r,i[r],w,S,t===k.a,n);case 39:return b=e.sent,e.abrupt(\"return\",b);case 41:return console.error(\"Undocumented method: \",t),e.abrupt(\"return\",{data:[]});case 43:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},L=r(61),R=(r(742),r(188),r(194),r(220),r(743),r(413),r(195)),U=r(746),B=r(196),q=r.n(B),Y=Object(a.forwardRef)((function(e,t){var r=Object(R.a)();return Object(n.jsxs)(U.a,{onClick:function(){return r()},ref:t,children:[Object(n.jsx)(q.a,{}),\" Logout\"]})})),z=function(e){var t,r=e.source,a=e.record,c=void 0===a?{}:a;return Object(n.jsx)(\"span\",{children:(t=c[r],void 0===t?\"\":new Date(void 0===t?new Date:1e3*t).toLocaleString())})},G=r(104),K=r(379),W=r(380),H=r(109);function J(e){var t=new Date;return t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),\"month\"===e||t.setMonth(0),Math.round(Number(t.valueOf()/1e3))}var X=function(e,t){if(void 0===e)return\"\";var r=new Date(void 0===e?new Date:1e3*e),n=r.getFullYear(),a=(1+r.getMonth()).toString();return a=a.length>1?a:\"0\"+a,\"month\"===t?r.toLocaleDateString():a+\"/\"+n},Q=function(e){var t=e.datetype,r=Object(G.a)(),c=Object(a.useState)([]),s=Object(L.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(!0),d=Object(L.a)(u,2),l=d[0],p=d[1],h=Object(a.useState)(),j=Object(L.a)(h,2),m=j[0],x=j[1];Object(a.useEffect)((function(){r(\"GET_LIST\",\"notifications\",{sort:{field:\"report_timestamp\",order:\"ASC\"},pagination:{page:1,perPage:1e7}}).then((function(e){var t=e.data;e.total;o(t),p(!1)})).catch((function(e){x(e),p(!1)}))}),[]);var O=[];if(l)return Object(n.jsx)(K.a,{});if(m)return Object(n.jsx)(W.a,{});var g=\"\";return i.map(function(){var e=Object(b.a)(f.a.mark((function e(r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&0!==i.length){e.next=2;break}return e.abrupt(\"return\");case 2:if(!(r.report_timestamp<J(t))){e.next=4;break}return e.abrupt(\"return\");case 4:n=X(r.report_timestamp,t),g===n?O[O.length-1].Notifications+=1:(O[O.length]={name:n,Notifications:1},g=n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.jsx)(H.d,{height:300,width:\"99%\",children:Object(n.jsxs)(H.b,{data:O,margin:{top:10,right:30,left:30,bottom:0},children:[Object(n.jsx)(H.c,{strokeDasharray:\"3 3\"}),Object(n.jsx)(H.f,{dataKey:\"name\"}),Object(n.jsx)(H.g,{}),Object(n.jsx)(H.e,{}),Object(n.jsx)(H.a,{type:\"monotone\",dataKey:\"Notifications\",stroke:\"#8884d8\",fill:\"#8884d8\"})]})})},V=r(747),Z=r(748),$=r(749),ee=r(688);function te(e){var t=new Date,r=t.getFullYear(),n=(1+t.getMonth()).toString();return n=n.length>1?n:\"0\"+n,\"month\"===e?n+\"/\"+r:r}var re=function(){return Object(n.jsxs)(Z.a,{children:[Object(n.jsx)($.a,{title:\"Welcome to the administration\"}),Object(n.jsxs)(ee.a,{children:[\"Number of notifications per day this month (\",te(\"month\"),\"): \"]}),Object(n.jsx)(Q,{datetype:\"month\"}),Object(n.jsx)(\"br\",{}),Object(n.jsxs)(ee.a,{children:[\"Number of notifications per day this year (\",te(\"year\"),\"):\"]}),Object(n.jsx)(Q,{datetype:\"year\"})]})},ne=r(773),ae=r(782),ce=r(774),se=r(780),ie=r(101),oe=r(778),ue=r(769),de=r(689),le=function(e){var t=Object(de.a)((function(e){return e.breakpoints.down(\"sm\")}));return Object(n.jsx)(ne.a,Object(d.a)(Object(d.a)({},e),{},{sort:{field:\"report_timestamp\",order:\"DESC\"},children:t?Object(n.jsx)(ae.a,{primaryText:function(e){return e.report_title},secondaryText:function(e){return\"\".concat(e.report_content,\" views\")},tertiaryText:function(e){return new Date(1e3*e.report_timestamp).toLocaleDateString()},linkType:function(e){return e.canEdit?\"edit\":\"show\"}}):Object(n.jsxs)(ce.a,{rowClick:\"show\",children:[Object(n.jsx)(V.a,{label:\"Title\",source:\"report_title\"}),Object(n.jsx)(V.a,{label:\"Content\",source:\"report_content\"}),Object(n.jsx)(z,{label:\"Date\",source:\"report_timestamp\"}),Object(n.jsx)(V.a,{label:\"Sender Name\",source:\"sender_name\"}),Object(n.jsx)(se.a,{label:\"Delete\"})]})}))},fe=function(e){var t=e.basePath,r=e.data,a=e.resource;return Object(n.jsx)(ie.a,{children:Object(n.jsx)(se.a,{undoable:!1,basePath:t,record:r,resource:a})})},be=function(e){return Object(n.jsx)(oe.a,Object(d.a)(Object(d.a)({actions:Object(n.jsx)(fe,{})},e),{},{children:Object(n.jsxs)(ue.a,{children:[Object(n.jsx)(V.a,{label:\"Title\",source:\"report_title\"}),Object(n.jsx)(V.a,{label:\"Content\",source:\"report_content\"}),Object(n.jsx)(z,{label:\"Date\",source:\"report_timestamp\"})]})}))},pe=r(788),he=r(776),je=r(775),me=r(770),xe=r(779),Oe=function(e){var t=Object(de.a)((function(e){return e.breakpoints.down(\"sm\")}));return Object(n.jsx)(ne.a,Object(d.a)(Object(d.a)({},e),{},{children:t?Object(n.jsx)(ae.a,{primaryText:function(e){return e.user_name},secondaryText:function(e){return\"\".concat(e.user_email,\" views\")},tertiaryText:function(e){return new Date(1e3*e.created_timestamp).toLocaleDateString()},linkType:function(e){return e.canEdit?\"edit\":\"show\"}}):Object(n.jsxs)(ce.a,{rowClick:\"show\",children:[Object(n.jsx)(V.a,{source:\"user_name\"}),Object(n.jsx)(pe.a,{source:\"user_email\"}),Object(n.jsx)(z,{label:\"Date\",source:\"created_timestamp\"})]})}))},ge=function(e){var t=e.record;return Object(n.jsxs)(\"span\",{children:[\"Edit \",t?'\"'.concat(t.user_name,'\"'):\"\"]})},we=function(e){return Object(n.jsx)(he.a,Object(d.a)(Object(d.a)({title:Object(n.jsx)(ge,{})},e),{},{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(me.a,{source:\"user_name\"}),Object(n.jsx)(me.a,{source:\"user_email\"}),Object(n.jsx)(me.a,{disabled:!0,hidden:!0,label:\"Created\",source:\"created_timestamp\",defaultValue:new Date})]})}))},ve=function(e){return Object(n.jsx)(xe.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(me.a,{source:\"user_name\"}),Object(n.jsx)(me.a,{source:\"user_email\"}),Object(n.jsx)(me.a,{source:\"user_password\"})]})}))},ke=(r(785),r(777),r(789),r(787),r(768),r(411)),ye=r.n(ke),_e=r(412),Se=r.n(_e),De={userProfilePath:\"/admin/\",userAdminProp:\"is_admin\"},Pe=N({apiKey:\"AIzaSyB7g7YOyd8nA3vbt96Xajnv_9BPzbxSqXk\",authDomain:\"transportationbermuda.firebaseapp.com\",databaseURL:\"https://transportationbermuda.firebaseio.com\",projectId:\"transportationbermuda\",storageBucket:\"transportationbermuda.appspot.com\",messagingSenderId:\"119896054784\",appId:\"1:119896054784:web:5591ed16d38fd7fd2bcce5\",measurementId:\"G-82141WYBBL\"},{trackedResources:[{name:\"notifications\",path:\"reports_test\"},{name:\"app_users\",path:\"tokens\"},{name:\"owner_users\",path:\"users\"}]}),Ae=function(){return Object(n.jsxs)(o.a,{title:\"TB Admin\",dashboard:re,authProvider:m(De),dataProvider:Pe,logoutButton:Y,children:[Object(n.jsx)(u.a,{name:\"notifications\",options:{label:\"Notifications\"},list:le,show:be,icon:ye.a}),Object(n.jsx)(u.a,{name:\"owner_users\",list:Oe,edit:we,create:ve,icon:Se.a})]})},Ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,793)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Ae,{})}),document.getElementById(\"root\")),Ie()}},[[682,1,2]]]);","name":"static/js/main.47f81a04.chunk.js","map":{"version":3,"sources":["static/js/main.47f81a04.chunk.js"],"names":["this","push","470","module","exports","__webpack_require__","682","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","Admin","Resource","objectSpread2","regenerator","regenerator_default","asyncToGenerator","types","index_esm","baseConfig","userProfilePath","userAdminProp","localStorageTokenName","handleAuthStateChange","_handleAuthStateChange","Object","a","mark","_callee","auth","config","snapshot","profile","firebaseToken","user","wrap","_context","prev","next","firestore","doc","uid","get","sent","data","console","log","getIdToken","localStorage","setItem","abrupt","signOut","removeItem","Error","stop","_x","_x2","apply","arguments","AuthProvider","length","undefined","firebaseLoaded","Promise","resolve","onAuthStateChanged","_ref","_callee2","type","params","token","username","password","alreadySignedIn","_context2","catch","currentUser","reload","getIdTokenResult","claims","signInWithEmailAndPassword","_x3","_x4","createForOfIteratorHelper","defineProperty","toConsumableArray","sort_by","sort_by_default","dataFetchActions","convertFileToBase64","file","reject","reader","FileReader","readAsDataURL","rawFile","onload","result","onerror","getImageSize","img","document","createElement","width","height","src","methods_upload","fieldName","submitedData","id","resourceName","resourcePath","ref","downloadURL","imageSize","Array","isArray","name","storage","child","concat","put","getDownloadURL","uploadedAt","Date","indexOf","t0","error","_x5","methods_save","_ref2","previous","firebaseSaveFilter","uploadResults","isNew","timestampFieldNames","map","uploadResult","assign","createdAt","updatedAt","set","_x6","_x7","_x8","_x9","_x10","_x11","_x12","_x13","_x14","methods_del","_ref3","_callee3","uploadFields","_context3","delete","_x15","_x16","_x17","_x18","methods_delMany","_ref4","_callee4","ids","previousData","_context4","_x19","_x20","_x21","methods_getOne","_ref5","_callee5","resourceData","_context5","collection","exists","_x22","_x23","_x24","methods_getList","_ref6","_callee6","values","snapshots","_iterator","_step","_data","keys","_params$pagination","page","perPage","_start","_end","total","_context6","pagination","docs","s","done","value","err","e","f","filter","item","meetsFilters","_i","_Object$keys","key","sort","order","field","i","slice","_x25","_x26","_x27","methods_getMany","_ref7","_callee7","_iterator2","_step2","_yield$getOne","_context7","finish","_x28","_x29","_x30","methods_getManyReference","_ref8","_callee8","_yield$getList","_context8","target","_x31","_x32","_x33","methods","upload","save","del","delMany","getItemID","itemId","getOne","getList","getMany","getManyReference","addUploadFeature","requestHandler","resource","image","formerPictures","p","File","newPictures","all","then","base64Pictures","picture64","title","transformedNewPictures","BaseConfiguration","initialQuerytimeout","lib_RestProvider","firebaseConfig","options","_options","trackedResources","resourcesStatus","resourcesData","resourcesPaths","resourcesUploadFields","apps","initializeApp","setPersistence","Auth","Persistence","SESSION","index","path","_resource","uploads","currentData","slicedToArray","useLogout","MenuItem","PowerSettingsNew","PowerSettingsNew_default","components_MyLogoutButton","props","logout","onClick","children","components_DateTimeField","source","_ref$record","record","toLocaleString","useDataProvider","Loading","layout_Error","es6","getTimestampFirstDayOfKey","datetype","date","setDate","setHours","setMinutes","setSeconds","setMonth","Math","round","Number","valueOf","DashChart_getDateTime","timestamp","year","getFullYear","month","getMonth","toString","toLocaleDateString","components_DashChart","dataProvider","_useState","_useState2","setData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setError","chartData","preDate","answer","selDate","report_timestamp","Notifications","margin","top","right","left","bottom","strokeDasharray","dataKey","stroke","fill","TextField","Card","CardHeader","CardContent","getDateByKey","Dashboard","List","SimpleList","Datagrid","DeleteButton","TopToolbar","Show","SimpleShowLayout","useMediaQuery","NotificationList_NotificationList","isSmall","theme","breakpoints","down","primaryText","report_title","secondaryText","report_content","tertiaryText","linkType","canEdit","rowClick","label","NotificationList_CustomShowActions","basePath","undoable","NotificationList_NotificationShow","actions","EmailField","Edit","SimpleForm","TextInput","Create","Users_UserList","user_name","user_email","created_timestamp","Users_EditTitle","Users_UserEdit","disabled","hidden","defaultValue","Users_UserCreate","Announcement","Announcement_default","Group","Group_default","authConfig","App_dataProvider","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","src_App","dashboard","authProvider","logoutButton","list","show","icon","edit","create","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonptb-admin\"] = this[\"webpackJsonptb-admin\"] || []).push([[0],{\n\n/***/ 470:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 682:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(20);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(470);\n\n// EXTERNAL MODULE: ./node_modules/react-admin/esm/Admin.js + 60 modules\nvar Admin = __webpack_require__(772);\n\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/core/Resource.js\nvar Resource = __webpack_require__(771);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(21);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/auth/types.js\nvar types = __webpack_require__(145);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(231);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(290);\n\n// CONCATENATED MODULE: ./src/lib/AuthProvider.js\n/* globals localStorage */var baseConfig={userProfilePath:'/admin/',userAdminProp:'is_admin',localStorageTokenName:'RAFirebaseClientToken',handleAuthStateChange:function(){var _handleAuthStateChange=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(auth,config){var snapshot,profile,firebaseToken,user;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!auth){_context.next=20;break;}_context.next=3;return index_esm[\"a\" /* default */].firestore().doc(config.userProfilePath+auth.user.uid).get();case 3:snapshot=_context.sent;profile=snapshot.data();console.log(\"gisng\",config.userProfilePath+auth.user.uid);if(!(profile&&profile[config.userAdminProp])){_context.next=15;break;}_context.next=9;return auth.user.getIdToken();case 9:firebaseToken=_context.sent;user={auth:auth,profile:profile,firebaseToken:firebaseToken};localStorage.setItem(config.localStorageTokenName,firebaseToken);return _context.abrupt(\"return\",user);case 15:index_esm[\"a\" /* default */].auth().signOut();localStorage.removeItem(config.localStorageTokenName);throw new Error('sign_in_error');case 18:_context.next=22;break;case 20:localStorage.removeItem(config.localStorageTokenName);throw new Error('sign_in_error');case 22:case\"end\":return _context.stop();}}},_callee);}));function handleAuthStateChange(_x,_x2){return _handleAuthStateChange.apply(this,arguments);}return handleAuthStateChange;}()};/* harmony default export */ var AuthProvider = (function(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};config=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},baseConfig),config);var firebaseLoaded=function firebaseLoaded(){return new Promise(function(resolve){index_esm[\"a\" /* default */].auth().onAuthStateChanged(resolve);});};return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(type,params){var token,username,password,alreadySignedIn,auth;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(type===types[\"e\" /* AUTH_LOGOUT */])){_context2.next=3;break;}config.handleAuthStateChange(null,config).catch(function(){});return _context2.abrupt(\"return\",index_esm[\"a\" /* default */].auth().signOut());case 3:if(!index_esm[\"a\" /* default */].auth().currentUser){_context2.next=6;break;}_context2.next=6;return index_esm[\"a\" /* default */].auth().currentUser.reload();case 6:if(!(type===types[\"a\" /* AUTH_CHECK */])){_context2.next=12;break;}_context2.next=9;return firebaseLoaded();case 9:if(index_esm[\"a\" /* default */].auth().currentUser){_context2.next=11;break;}throw new Error('sign_in_error');case 11:return _context2.abrupt(\"return\",true);case 12:if(!(type===types[\"c\" /* AUTH_GET_PERMISSIONS */])){_context2.next=22;break;}console.log('AUTH_GET_PERMISSIONS');_context2.next=16;return firebaseLoaded();case 16:if(index_esm[\"a\" /* default */].auth().currentUser){_context2.next=18;break;}throw new Error('sign_in_error');case 18:_context2.next=20;return index_esm[\"a\" /* default */].auth().currentUser.getIdTokenResult();case 20:token=_context2.sent;return _context2.abrupt(\"return\",token.claims);case 22:if(!(type===types[\"d\" /* AUTH_LOGIN */])){_context2.next=30;break;}username=params.username,password=params.password,alreadySignedIn=params.alreadySignedIn;auth=index_esm[\"a\" /* default */].auth().currentUser;if(!(!auth||!alreadySignedIn)){_context2.next=29;break;}_context2.next=28;return index_esm[\"a\" /* default */].auth().signInWithEmailAndPassword(username,password);case 28:auth=_context2.sent;case 29:return _context2.abrupt(\"return\",config.handleAuthStateChange(auth,config));case 30:return _context2.abrupt(\"return\",false);case 31:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref.apply(this,arguments);};}();});\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(266);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(156);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 1 modules\nvar storage_dist_index_esm = __webpack_require__(683);\n\n// EXTERNAL MODULE: ./node_modules/sort-by/index.js\nvar sort_by = __webpack_require__(361);\nvar sort_by_default = /*#__PURE__*/__webpack_require__.n(sort_by);\n\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/core/dataFetchActions.js\nvar dataFetchActions = __webpack_require__(63);\n\n// CONCATENATED MODULE: ./src/lib/methods.js\nvar convertFileToBase64=function convertFileToBase64(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.readAsDataURL(file.rawFile);reader.onload=function(){return resolve(reader.result);};reader.onerror=reject;});};var methods_addUploadFeature=function addUploadFeature(requestHandler){return function(type,resource,params){if(type==='UPDATE'){if(params.data.image&&params.data.image.length){var formerPictures=params.data.image.filter(function(p){return!(p.rawFile instanceof File);});var newPictures=params.data.image.filter(function(p){return p.rawFile instanceof File;});return Promise.all(newPictures.map(convertFileToBase64)).then(function(base64Pictures){return base64Pictures.map(function(picture64){return{src:picture64,title:\"\".concat(params.data.title)};});}).then(function(transformedNewPictures){return requestHandler(type,resource,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params),{},{data:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params.data),{},{image:[].concat(Object(toConsumableArray[\"a\" /* default */])(transformedNewPictures),Object(toConsumableArray[\"a\" /* default */])(formerPictures))})}));});}}// for other request types and reources, fall back to the defautl request handler\nreturn requestHandler(type,resource,params);};};var getImageSize=function getImageSize(file){return new Promise(function(resolve){var img=document.createElement('img');img.onload=function(){resolve({width:this.width,height:this.height});};img.src=file.src;});};var methods_upload=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(fieldName,submitedData,id,resourceName,resourcePath){var file,rawFile,result,ref,snapshot,downloadURL,imageSize;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=submitedData[fieldName];if(file){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:file=Array.isArray(file)?file[0]:file;rawFile=file.rawFile;result={};if(!(file&&rawFile&&rawFile.name)){_context.next=32;break;}ref=index_esm[\"a\" /* default */].storage().ref().child(\"\".concat(resourcePath,\"/\").concat(id,\"/\").concat(fieldName));_context.next=10;return ref.put(rawFile);case 10:snapshot=_context.sent;_context.next=13;return snapshot.ref.getDownloadURL();case 13:downloadURL=_context.sent;result[fieldName]=[{}];result[fieldName][0].uploadedAt=new Date();result[fieldName][0].src=downloadURL;result[fieldName][0].type=rawFile.type;result[fieldName][0].name=rawFile.name;if(!(rawFile.type.indexOf('image/')===0)){_context.next=31;break;}_context.prev=20;_context.next=23;return getImageSize(file);case 23:imageSize=_context.sent;result[fieldName][0].width=imageSize.width;result[fieldName][0].height=imageSize.height;_context.next=31;break;case 28:_context.prev=28;_context.t0=_context[\"catch\"](20);console.error(\"Failed to get image dimensions\");case 31:return _context.abrupt(\"return\",result);case 32:return _context.abrupt(\"return\",false);case 33:case\"end\":return _context.stop();}}},_callee,null,[[20,28]]);}));return function upload(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments);};}();var methods_save=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(id,data,previous,resourceName,resourcePath,firebaseSaveFilter,uploadResults,isNew,timestampFieldNames){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(uploadResults){uploadResults.map(function(uploadResult){return uploadResult?Object.assign(data,uploadResult):false;});}if(isNew){Object.assign(data,Object(defineProperty[\"a\" /* default */])({},timestampFieldNames.createdAt,new Date()));}data=Object.assign(previous,Object(defineProperty[\"a\" /* default */])({},timestampFieldNames.updatedAt,new Date()),data);if(!data.id){data.id=id;}_context2.next=6;return index_esm[\"a\" /* default */].firestore().doc(\"\".concat(resourcePath,\"/\").concat(data.id)).set(firebaseSaveFilter(data));case 6:return _context2.abrupt(\"return\",{data:data});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function save(_x6,_x7,_x8,_x9,_x10,_x11,_x12,_x13,_x14){return _ref2.apply(this,arguments);};}();var methods_del=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(id,resourceName,resourcePath,uploadFields){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(uploadFields.length){uploadFields.map(function(fieldName){return index_esm[\"a\" /* default */].storage().ref().child(\"\".concat(resourcePath,\"/\").concat(id,\"/\").concat(fieldName)).delete();});}_context3.next=3;return index_esm[\"a\" /* default */].firestore().doc(\"\".concat(resourcePath,\"/\").concat(id)).delete();case 3:return _context3.abrupt(\"return\",{data:id});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function del(_x15,_x16,_x17,_x18){return _ref3.apply(this,arguments);};}();var methods_delMany=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(ids,resourceName,previousData){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return ids.map(function(id){return index_esm[\"a\" /* default */].firestore().doc(\"\".concat(resourceName,\"/\").concat(id)).delete();});case 2:return _context4.abrupt(\"return\",{data:ids});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function delMany(_x19,_x20,_x21){return _ref4.apply(this,arguments);};}();var methods_getItemID=function getItemID(params,type,resourceName,resourcePath,resourceData){var itemId=params.data.id||params.id||params.data.key||params.key;if(!itemId){itemId=index_esm[\"a\" /* default */].firestore().collection(resourcePath).doc().id;}if(!itemId){throw new Error('ID is required');}if(resourceData&&resourceData[itemId]&&type===dataFetchActions[\"a\" /* CREATE */]){throw new Error('ID already in use');}return itemId;};var methods_getOne=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(params,resourceName,resourceData){var result,data;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!params.id){_context5.next=13;break;}_context5.next=3;return index_esm[\"a\" /* default */].firestore().collection(resourceName).doc(params.id).get();case 3:result=_context5.sent;if(!result.exists){_context5.next=10;break;}data=result.data();if(data&&data.id==null){data['id']=result.id;}return _context5.abrupt(\"return\",{data:data});case 10:throw new Error('Id not found');case 11:_context5.next=14;break;case 13:throw new Error('Id not found');case 14:case\"end\":return _context5.stop();}}},_callee5);}));return function getOne(_x22,_x23,_x24){return _ref5.apply(this,arguments);};}();/**\n * params example:\n * pagination: { page: 1, perPage: 5 },\n * sort: { field: 'title', order: 'ASC' },\n * filter: { author_id: 12 }\n */var methods_getList=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(params,resourceName,resourceData){var values,snapshots,_iterator,_step,snapshot,_data,keys,_params$pagination,page,perPage,_start,_end,data,ids,total;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!params.pagination){_context6.next=19;break;}values=[];_context6.next=4;return index_esm[\"a\" /* default */].firestore().collection(resourceName).get();case 4:snapshots=_context6.sent;_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(snapshots.docs);try{for(_iterator.s();!(_step=_iterator.n()).done;){snapshot=_step.value;_data=snapshot.data();if(_data&&_data.id==null){_data['id']=snapshot.id;}values.push(_data);}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(params.filter){values=values.filter(function(item){var meetsFilters=true;for(var _i=0,_Object$keys=Object.keys(params.filter);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];meetsFilters=item[key]===params.filter[key];}return meetsFilters;});}if(params.sort){values.sort(sort_by_default()(\"\".concat(params.sort.order==='ASC'?'':'-').concat(params.sort.field)));}keys=values.map(function(i){return i.id;});_params$pagination=params.pagination,page=_params$pagination.page,perPage=_params$pagination.perPage;_start=(page-1)*perPage;_end=page*perPage;data=values?values.slice(_start,_end):[];ids=keys.slice(_start,_end)||[];total=values?values.length:0;return _context6.abrupt(\"return\",{data:data,ids:ids,total:total});case 19:throw new Error('Error processing request');case 20:case\"end\":return _context6.stop();}}},_callee6);}));return function getList(_x25,_x26,_x27){return _ref6.apply(this,arguments);};}();var methods_getMany=/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(params,resourceName,resourceData){var data,_iterator2,_step2,id,_yield$getOne,item;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:data=[];/* eslint-disable no-await-in-loop */_iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(params.ids);_context7.prev=2;_iterator2.s();case 4:if((_step2=_iterator2.n()).done){_context7.next=13;break;}id=_step2.value;_context7.next=8;return methods_getOne({id:id},resourceName,resourceData);case 8:_yield$getOne=_context7.sent;item=_yield$getOne.data;data.push(item);case 11:_context7.next=4;break;case 13:_context7.next=18;break;case 15:_context7.prev=15;_context7.t0=_context7[\"catch\"](2);_iterator2.e(_context7.t0);case 18:_context7.prev=18;_iterator2.f();return _context7.finish(18);case 21:return _context7.abrupt(\"return\",{data:data});case 22:case\"end\":return _context7.stop();}}},_callee7,null,[[2,15,18,21]]);}));return function getMany(_x28,_x29,_x30){return _ref7.apply(this,arguments);};}();var methods_getManyReference=/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(params,resourceName,resourceData){var _yield$getList,data,total;return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!params.target){_context8.next=11;break;}if(!params.filter)params.filter={};params.filter[params.target]=params.id;_context8.next=5;return methods_getList(params,resourceName,resourceData);case 5:_yield$getList=_context8.sent;data=_yield$getList.data;total=_yield$getList.total;return _context8.abrupt(\"return\",{data:data,total:total});case 11:throw new Error('Error processing request');case 12:case\"end\":return _context8.stop();}}},_callee8);}));return function getManyReference(_x31,_x32,_x33){return _ref8.apply(this,arguments);};}();/* harmony default export */ var methods = ({upload:methods_upload,save:methods_save,del:methods_del,delMany:methods_delMany,getItemID:methods_getItemID,getOne:methods_getOne,getList:methods_getList,getMany:methods_getMany,getManyReference:methods_getManyReference,addUploadFeature:methods_addUploadFeature,convertFileToBase64:convertFileToBase64});\n// CONCATENATED MODULE: ./src/lib/RestProvider.js\n/**\n * @param {string[]|Object[]} trackedResources Array of resource names or array of Objects containing name and\n * optional path properties (path defaults to name)\n * @param {Object} firebaseConfig Options Firebase configuration\n */var BaseConfiguration={initialQuerytimeout:10000,timestampFieldNames:{createdAt:'createdAt',updatedAt:'updatedAt'}};var RestProvider_RestProvider=function RestProvider(){var firebaseConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options=Object.assign({},BaseConfiguration,options);var _options=options,timestampFieldNames=_options.timestampFieldNames,trackedResources=_options.trackedResources;var resourcesStatus={};// const resourcesReferences = {};\nvar resourcesData={};var resourcesPaths={};var resourcesUploadFields={};if(index_esm[\"a\" /* default */].apps.length===0){index_esm[\"a\" /* default */].initializeApp(firebaseConfig);index_esm[\"a\" /* default */].auth().setPersistence(index_esm[\"a\" /* default */].auth.Auth.Persistence.SESSION);}/* Functions */var upload=options.upload||methods.upload;var save=options.save||methods.save;var del=options.del||methods.del;var getItemID=options.getItemID||methods.getItemID;var getOne=options.getOne||methods.getOne;var getMany=options.getMany||methods.getMany;var getManyReference=options.getManyReference||methods.getManyReference;var delMany=options.delMany||methods.delMany;var getList=options.getList||methods.getList;var firebaseSaveFilter=options.firebaseSaveFilter?options.firebaseSaveFilter:function(data){return data;};// const firebaseGetFilter = options.firebaseGetFilter ? options.firebaseGetFilter : data => data;\n// Sanitize Resources\ntrackedResources.map(function(resource,index){if(typeof resource===Array){resource={name:resource['name'],path:resource['path']||resource['name'],uploadFields:resource['uploadFields']||[]};trackedResources[index]=resource;}var _resource=resource,name=_resource.name,path=_resource.path,uploadFields=_resource.uploadFields;if(!resource.name){throw new Error(\"name is missing from resource \".concat(resource));}resourcesUploadFields[name]=uploadFields||[];resourcesPaths[name]=path||name;resourcesData[name]={};});/**\n     * @param {string} type Request type, e.g GET_LIST\n     * @param {string} resourceName Resource name, e.g. \"posts\"\n     * @param {Object} payload Request parameters. Depends on the request type\n     * @returns {Promise} the Promise for a REST response\n     */return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(type,resourceName,params){var result,uploadFields,itemId,uploads,currentData,uploadResults;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return resourcesStatus[resourceName];case 2:result=null;_context.t0=type;_context.next=_context.t0===dataFetchActions[\"d\" /* GET_LIST */]?6:_context.t0===dataFetchActions[\"e\" /* GET_MANY */]?10:_context.t0===dataFetchActions[\"f\" /* GET_MANY_REFERENCE */]?14:_context.t0===dataFetchActions[\"g\" /* GET_ONE */]?18:_context.t0===dataFetchActions[\"b\" /* DELETE */]?22:_context.t0===dataFetchActions[\"c\" /* DELETE_MANY */]?27:_context.t0===dataFetchActions[\"h\" /* UPDATE */]?31:_context.t0===dataFetchActions[\"a\" /* CREATE */]?31:41;break;case 6:_context.next=8;return getList(params,resourcesPaths[resourceName],resourcesData[resourceName]);case 8:result=_context.sent;return _context.abrupt(\"return\",result);case 10:_context.next=12;return getMany(params,resourcesPaths[resourceName],resourcesData[resourceName]);case 12:result=_context.sent;return _context.abrupt(\"return\",result);case 14:_context.next=16;return getManyReference(params,resourcesPaths[resourceName],resourcesData[resourceName]);case 16:result=_context.sent;return _context.abrupt(\"return\",result);case 18:_context.next=20;return getOne(params,resourcesPaths[resourceName],resourcesData[resourceName]);case 20:result=_context.sent;return _context.abrupt(\"return\",result);case 22:// console.log('DELETE');\nuploadFields=resourcesUploadFields[resourceName]?resourcesUploadFields[resourceName]:[];_context.next=25;return del(params.id,resourceName,resourcesPaths[resourceName],uploadFields);case 25:result=_context.sent;return _context.abrupt(\"return\",result);case 27:_context.next=29;return delMany(params.ids,resourcesPaths[resourceName],resourcesData[resourceName]);case 29:result=_context.sent;return _context.abrupt(\"return\",result);case 31:// console.log('UPDATE/CREATE');\nitemId=getItemID(params,type,resourceName,resourcesPaths[resourceName],resourcesData[resourceName]);uploads=resourcesUploadFields[resourceName]?resourcesUploadFields[resourceName].map(function(field){return upload(field,params.data,itemId,resourceName,resourcesPaths[resourceName]);}):[];currentData=resourcesData[resourceName][itemId]||{};_context.next=36;return Promise.all(uploads);case 36:uploadResults=_context.sent;_context.next=39;return save(itemId,params.data,currentData,resourceName,resourcesPaths[resourceName],firebaseSaveFilter,uploadResults,type===dataFetchActions[\"a\" /* CREATE */],timestampFieldNames);case 39:result=_context.sent;return _context.abrupt(\"return\",result);case 41:console.error('Undocumented method: ',type);return _context.abrupt(\"return\",{data:[]});case 43:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};/* harmony default export */ var lib_RestProvider = (RestProvider_RestProvider);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./src/lib/Base64Uploader.js\nvar Base64Uploader_addUploadFeature=function addUploadFeature(requestHandler){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(type,resource,params){var newParams,_i,_Object$entries,_Object$entries$_i,key,value;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(type==='UPDATE'||type==='CREATE')){_context.next=17;break;}newParams={};_i=0,_Object$entries=Object.entries(params.data);case 3:if(!(_i<_Object$entries.length)){_context.next=16;break;}_Object$entries$_i=Object(slicedToArray[\"a\" /* default */])(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(!Array.isArray(value)){_context.next=9;break;}_context.next=8;return convertToArrayOfBase64Objects(value);case 8:newParams[key]=_context.sent;case 9:if(!(value&&value.rawFile instanceof File)){_context.next=13;break;}_context.next=12;return convertToBase64Object(value);case 12:newParams[key]=_context.sent;case 13:_i++;_context.next=3;break;case 16:params.data=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params.data),newParams);case 17:return _context.abrupt(\"return\",requestHandler(type,resource,params));case 18:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};var Base64Uploader_convertFileToBase64=function convertFileToBase64(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.readAsDataURL(file.rawFile);reader.onload=function(){return resolve(reader.result);};reader.onerror=reject;});};var convertToBase64Object=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(file){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Base64Uploader_convertFileToBase64(file);case 2:_context2.t0=_context2.sent;_context2.t1=\"\".concat(file.title);return _context2.abrupt(\"return\",{src:_context2.t0,title:_context2.t1});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function convertToBase64Object(_x4){return _ref2.apply(this,arguments);};}();var convertToArrayOfBase64Objects=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(array){var formerFields,newFiles,transformedNewFiles;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formerFields=array.filter(function(p){return!(p.rawFile instanceof File);});newFiles=array.filter(function(p){return p.rawFile instanceof File;});_context3.next=4;return Promise.all(newFiles.map(convertToBase64Object));case 4:transformedNewFiles=_context3.sent;return _context3.abrupt(\"return\",[].concat(Object(toConsumableArray[\"a\" /* default */])(transformedNewFiles),Object(toConsumableArray[\"a\" /* default */])(formerFields)));case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function convertToArrayOfBase64Objects(_x5){return _ref3.apply(this,arguments);};}();/* harmony default export */ var Base64Uploader = (Base64Uploader_addUploadFeature);\n// CONCATENATED MODULE: ./src/lib/index.js\n\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/auth/useLogin.js\nvar useLogin = __webpack_require__(742);\n\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/sideEffect/useNotify.js\nvar useNotify = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/defaultTheme.js\nvar defaultTheme = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/layout/Notification.js + 3 modules\nvar Notification = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(743);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createMuiTheme.js + 18 modules\nvar createMuiTheme = __webpack_require__(413);\n\n// CONCATENATED MODULE: ./src/components/MyLoginPage.js\nvar MyLoginPage_MyLoginPage=function MyLoginPage(_ref){var theme=_ref.theme;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var login=Object(useLogin[\"a\" /* default */])();var notify=Object(useNotify[\"a\" /* default */])();var submit=function submit(e){e.preventDefault();login({email:email,password:password}).catch(function(){return notify('Invalid email or password');});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ThemeProvider[\"a\" /* default */],{theme:Object(createMuiTheme[\"a\" /* default */])(defaultTheme[\"a\" /* default */]),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"email\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Notification[\"a\" /* default */],{})]});};/* harmony default export */ var components_MyLoginPage = (MyLoginPage_MyLoginPage);\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/auth/useLogout.js\nvar useLogout = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js\nvar MenuItem = __webpack_require__(746);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/PowerSettingsNew.js\nvar PowerSettingsNew = __webpack_require__(196);\nvar PowerSettingsNew_default = /*#__PURE__*/__webpack_require__.n(PowerSettingsNew);\n\n// CONCATENATED MODULE: ./src/components/MyLogoutButton.js\nvar MyLogoutButton=/*#__PURE__*/Object(react[\"forwardRef\"])(function(props,ref){var logout=Object(useLogout[\"a\" /* default */])();var handleClick=function handleClick(){return logout();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MenuItem[\"a\" /* default */],{onClick:handleClick,ref:ref,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PowerSettingsNew_default.a,{}),\" Logout\"]});});/* harmony default export */ var components_MyLogoutButton = (MyLogoutButton);\n// CONCATENATED MODULE: ./src/components/DateTimeField.js\nvar getDateTime=function getDateTime(value){if(value===undefined){return\"\";}else{var timestamp=new Date(value===undefined?new Date():value*1000);return timestamp.toLocaleString();}};var DateTimeField_DateTimeField=function DateTimeField(_ref){var source=_ref.source,_ref$record=_ref.record,record=_ref$record===void 0?{}:_ref$record;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:getDateTime(record[source])});};/* harmony default export */ var components_DateTimeField = (DateTimeField_DateTimeField);\n// EXTERNAL MODULE: ./node_modules/ra-core/esm/dataProvider/useDataProvider.js + 3 modules\nvar useDataProvider = __webpack_require__(104);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/layout/Loading.js\nvar Loading = __webpack_require__(379);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/layout/Error.js\nvar layout_Error = __webpack_require__(380);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/index.js + 190 modules\nvar es6 = __webpack_require__(109);\n\n// CONCATENATED MODULE: ./src/components/DashChart.js\nfunction getTimestampFirstDayOfKey(datetype){var date=new Date();date.setDate(1);date.setHours(0);date.setMinutes(0);date.setSeconds(0);if(datetype===\"month\"){return Math.round(Number(date.valueOf()/1000));}else{date.setMonth(0);return Math.round(Number(date.valueOf()/1000));}}var DashChart_getDateTime=function getDateTime(value,datetype){if(value===undefined){return\"\";}else{var timestamp=new Date(value===undefined?new Date():value*1000);var year=timestamp.getFullYear();var month=(1+timestamp.getMonth()).toString();month=month.length>1?month:'0'+month;// return timestamp.toLocaleString();\nif(datetype===\"month\")return timestamp.toLocaleDateString();else return month+\"/\"+year;}};var DashChart_DashChart=function DashChart(_ref){var datetype=_ref.datetype;var dataProvider=Object(useDataProvider[\"a\" /* default */])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),error=_useState6[0],setError=_useState6[1];Object(react[\"useEffect\"])(function(){dataProvider('GET_LIST','notifications',{sort:{field:'report_timestamp',order:'ASC'},pagination:{page:1,perPage:10000000}}).then(function(_ref2){var data=_ref2.data,total=_ref2.total;setData(data);setLoading(false);}).catch(function(error){setError(error);setLoading(false);});},[]);var chartData=[];if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading[\"a\" /* default */],{});if(error)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(layout_Error[\"a\" /* default */],{});var preDate=\"\";data.map(/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(answer){var selDate;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!data||data.length===0)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!(answer.report_timestamp<getTimestampFirstDayOfKey(datetype))){_context.next=4;break;}return _context.abrupt(\"return\");case 4:selDate=DashChart_getDateTime(answer.report_timestamp,datetype);if(preDate===selDate){chartData[chartData.length-1].Notifications+=1;}else{chartData[chartData.length]={name:selDate,Notifications:1};preDate=selDate;}case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}());return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"d\" /* ResponsiveContainer */],{height:300,width:\"99%\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es6[\"b\" /* AreaChart */]// width={500} height={400} \n,{data:chartData,margin:{top:10,right:30,left:30,bottom:0},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"c\" /* CartesianGrid */],{strokeDasharray:\"3 3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"f\" /* XAxis */],{dataKey:\"name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"g\" /* YAxis */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"e\" /* Tooltip */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es6[\"a\" /* Area */],{type:\"monotone\",dataKey:\"Notifications\",stroke:\"#8884d8\",fill:\"#8884d8\"})]})});};/* harmony default export */ var components_DashChart = (DashChart_DashChart);\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/field/TextField.js\nvar TextField = __webpack_require__(747);\n\n// CONCATENATED MODULE: ./src/components/CommentField.js\nvar CommentField_CommentField=function CommentField(_ref){var record=_ref.record;var dataProvider=Object(useDataProvider[\"a\" /* default */])();var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),error=_useState6[0],setError=_useState6[1];Object(react[\"useEffect\"])(function(){dataProvider.getList('reports',{pagination:{page:1,perPage:100000},sort:{},filter:{}}).then(function(_ref2){var data=_ref2.data,total=_ref2.total;setTotal(total);setLoading(false);}).catch(function(error){setError(error);setLoading(false);});},[]);var comments={result:total+\"  Comments\"};if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading[\"a\" /* default */],{});if(error)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(layout_Error[\"a\" /* default */],{});if(!total)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{record:comments,source:\"result\"});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{record:comments,source:\"result\"});};/* harmony default export */ var components_CommentField = (CommentField_CommentField);\n// CONCATENATED MODULE: ./src/components/index.js\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(748);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardHeader/CardHeader.js\nvar CardHeader = __webpack_require__(749);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardContent/CardContent.js\nvar CardContent = __webpack_require__(688);\n\n// CONCATENATED MODULE: ./src/models/Dashboard.js\nfunction getDateByKey(value){var date=new Date();var year=date.getFullYear();var month=(1+date.getMonth()).toString();month=month.length>1?month:'0'+month;if(value===\"month\")return month+\"/\"+year;else return year;}/* harmony default export */ var Dashboard = (function(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardHeader[\"a\" /* default */],{title:\"Welcome to the administration\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{children:[\"Number of notifications per day this month (\",getDateByKey(\"month\"),\"): \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DashChart,{datetype:\"month\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{children:[\"Number of notifications per day this year (\",getDateByKey(\"year\"),\"):\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DashChart,{datetype:\"year\"})]});});\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/list/List.js + 22 modules\nvar List = __webpack_require__(773);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/list/SimpleList.js + 4 modules\nvar SimpleList = __webpack_require__(782);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/list/datagrid/Datagrid.js + 19 modules\nvar Datagrid = __webpack_require__(774);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/button/DeleteButton.js + 5 modules\nvar DeleteButton = __webpack_require__(780);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/layout/TopToolbar.js\nvar TopToolbar = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/detail/Show.js + 6 modules\nvar Show = __webpack_require__(778);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/detail/SimpleShowLayout.js\nvar SimpleShowLayout = __webpack_require__(769);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js\nvar useMediaQuery = __webpack_require__(689);\n\n// CONCATENATED MODULE: ./src/models/NotificationList.js\nvar NotificationList_NotificationList=function NotificationList(props){var isSmall=Object(useMediaQuery[\"a\" /* default */])(function(theme){return theme.breakpoints.down('sm');});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{sort:{field:'report_timestamp',order:'DESC'},children:isSmall?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SimpleList[\"a\" /* default */],{primaryText:function primaryText(record){return record.report_title;},secondaryText:function secondaryText(record){return\"\".concat(record.report_content,\" views\");},tertiaryText:function tertiaryText(record){return new Date(record.report_timestamp*1000).toLocaleDateString();},linkType:function linkType(record){return record.canEdit?\"edit\":\"show\";}}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Datagrid[\"a\" /* default */],{rowClick:\"show\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Title\",source:\"report_title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Content\",source:\"report_content\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DateTimeField,{label:\"Date\",source:\"report_timestamp\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Sender Name\",source:\"sender_name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteButton[\"a\" /* default */],{label:\"Delete\"})]})}));};var NotificationList_CustomShowActions=function CustomShowActions(_ref){var basePath=_ref.basePath,data=_ref.data,resource=_ref.resource;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TopToolbar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteButton[\"a\" /* default */],{undoable:false,basePath:basePath,record:data,resource:resource})});};var NotificationList_NotificationShow=function NotificationShow(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Show[\"a\" /* Show */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({actions:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationList_CustomShowActions,{})},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleShowLayout[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Title\",source:\"report_title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Content\",source:\"report_content\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DateTimeField,{label:\"Date\",source:\"report_timestamp\"})]})}));};\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/field/EmailField.js + 1 modules\nvar EmailField = __webpack_require__(788);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/detail/Edit.js + 9 modules\nvar Edit = __webpack_require__(776);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/form/SimpleForm.js + 10 modules\nvar SimpleForm = __webpack_require__(775);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/input/TextInput.js\nvar TextInput = __webpack_require__(770);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/detail/Create.js + 6 modules\nvar Create = __webpack_require__(779);\n\n// CONCATENATED MODULE: ./src/models/Users.js\nvar Users_UserList=function UserList(props){var isSmall=Object(useMediaQuery[\"a\" /* default */])(function(theme){return theme.breakpoints.down('sm');});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:isSmall?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SimpleList[\"a\" /* default */],{primaryText:function primaryText(record){return record.user_name;},secondaryText:function secondaryText(record){return\"\".concat(record.user_email,\" views\");},tertiaryText:function tertiaryText(record){return new Date(record.created_timestamp*1000).toLocaleDateString();},linkType:function linkType(record){return record.canEdit?\"edit\":\"show\";}}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Datagrid[\"a\" /* default */],{rowClick:\"show\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{source:\"user_name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmailField[\"a\" /* default */],{source:\"user_email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_DateTimeField,{label:\"Date\",source:\"created_timestamp\"})]})}));};var Users_EditTitle=function EditTitle(_ref){var record=_ref.record;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Edit \",record?\"\\\"\".concat(record.user_name,\"\\\"\"):'']});};var Users_UserEdit=function UserEdit(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit[\"a\" /* Edit */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({title:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Users_EditTitle,{})},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleForm[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"user_name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"user_email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{disabled:true,hidden:true,label:\"Created\",source:\"created_timestamp\",defaultValue:new Date()})]})}));};var Users_UserCreate=function UserCreate(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Create[\"a\" /* Create */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleForm[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"user_name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"user_email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"user_password\"})]})}));};\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/list/filter/Filter.js + 4 modules\nvar Filter = __webpack_require__(785);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/input/ReferenceInput.js + 7 modules\nvar ReferenceInput = __webpack_require__(777);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/input/SelectInput.js + 1 modules\nvar SelectInput = __webpack_require__(789);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/field/ReferenceField.js + 2 modules\nvar ReferenceField = __webpack_require__(787);\n\n// EXTERNAL MODULE: ./node_modules/ra-ui-materialui/esm/button/EditButton.js\nvar EditButton = __webpack_require__(768);\n\n// CONCATENATED MODULE: ./src/models/Posts.js\nvar Posts_PostFilter=function PostFilter(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Filter[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{label:\"Search\",source:\"q\",alwaysOn:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReferenceInput[\"a\" /* default */],{label:\"User\",source:\"userId\",reference:\"users\",allowEmpty:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectInput[\"a\" /* default */],{optionText:\"name\"})})]}));};var Posts_PostList=function PostList(props){var isSmall=Object(useMediaQuery[\"a\" /* default */])(function(theme){return theme.breakpoints.down('sm');});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({filters:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Posts_PostFilter,{})},props),{},{children:isSmall?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SimpleList[\"a\" /* default */],{primaryText:function primaryText(record){return record.title;},secondaryText:function secondaryText(record){return\"\".concat(record.views,\" views\");},tertiaryText:function tertiaryText(record){return new Date(record.published_at).toLocaleDateString();}}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Datagrid[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{source:\"id\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReferenceField[\"a\" /* default */],{source:\"userId\",reference:\"users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{source:\"name\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{source:\"title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{source:\"body\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EditButton[\"a\" /* default */],{})]})}));};var Posts_PostTitle=function PostTitle(_ref){var record=_ref.record;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Post \",record?\"\\\"\".concat(record.title,\"\\\"\"):'']});};var Posts_PostEdit=function PostEdit(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit[\"a\" /* Edit */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({title:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Posts_PostTitle,{})},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleForm[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{disabled:true,source:\"id\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReferenceInput[\"a\" /* default */],{source:\"userId\",reference:\"users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectInput[\"a\" /* default */],{optionText:\"name\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{multiline:true,source:\"body\"})]})}));};var Posts_PostCreate=function PostCreate(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Create[\"a\" /* Create */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleForm[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReferenceInput[\"a\" /* default */],{source:\"userId\",reference:\"users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectInput[\"a\" /* default */],{optionText:\"name\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{source:\"title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextInput[\"a\" /* default */],{multiline:true,source:\"body\"})]})}));};\n// CONCATENATED MODULE: ./src/models/index.js\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Announcement.js\nvar Announcement = __webpack_require__(411);\nvar Announcement_default = /*#__PURE__*/__webpack_require__.n(Announcement);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Group.js\nvar Group = __webpack_require__(412);\nvar Group_default = /*#__PURE__*/__webpack_require__.n(Group);\n\n// CONCATENATED MODULE: ./src/App.js\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar App_firebaseConfig={apiKey:\"AIzaSyB7g7YOyd8nA3vbt96Xajnv_9BPzbxSqXk\",authDomain:\"transportationbermuda.firebaseapp.com\",databaseURL:\"https://transportationbermuda.firebaseio.com\",projectId:\"transportationbermuda\",storageBucket:\"transportationbermuda.appspot.com\",messagingSenderId:\"119896054784\",appId:\"1:119896054784:web:5591ed16d38fd7fd2bcce5\",measurementId:\"G-82141WYBBL\"};var App_trackedResources=[{name:'notifications',path:'reports_test'},{name:'app_users',path:'tokens'},{name:'owner_users',path:'users'}];var authConfig={userProfilePath:'/admin/',userAdminProp:'is_admin'};var App_dataProvider=lib_RestProvider(App_firebaseConfig,{trackedResources:App_trackedResources});var App_App=function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Admin[\"a\" /* default */],{title:\"TB Admin\",dashboard:Dashboard,authProvider:AuthProvider(authConfig),dataProvider:App_dataProvider,logoutButton:components_MyLogoutButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Resource[\"a\" /* default */],{name:\"notifications\",options:{label:'Notifications'},list:NotificationList_NotificationList,show:NotificationList_NotificationShow,icon:Announcement_default.a}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Resource[\"a\" /* default */],{name:\"owner_users\",list:Users_UserList,edit:Users_UserEdit,create:Users_UserCreate,icon:Group_default.a})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 793)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[682,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/rapunzel/Documents/tb-admin 2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/rapunzel/Documents/tb-admin 2/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/rapunzel/Documents/tb-admin 2/node_modules/postcss-loader/src/index.js??postcss!/Users/rapunzel/Documents/tb-admin 2/src/index.css","/Users/rapunzel/Documents/tb-admin 2/src/lib/AuthProvider.js","/Users/rapunzel/Documents/tb-admin 2/src/lib/methods.js","/Users/rapunzel/Documents/tb-admin 2/src/lib/RestProvider.js","/Users/rapunzel/Documents/tb-admin 2/src/lib/Base64Uploader.js","/Users/rapunzel/Documents/tb-admin 2/src/components/MyLoginPage.js","/Users/rapunzel/Documents/tb-admin 2/src/components/MyLogoutButton.js","/Users/rapunzel/Documents/tb-admin 2/src/components/DateTimeField.js","/Users/rapunzel/Documents/tb-admin 2/src/components/DashChart.js","/Users/rapunzel/Documents/tb-admin 2/src/components/CommentField.js","/Users/rapunzel/Documents/tb-admin 2/src/models/Dashboard.js","/Users/rapunzel/Documents/tb-admin 2/src/models/NotificationList.js","/Users/rapunzel/Documents/tb-admin 2/src/models/Users.js","/Users/rapunzel/Documents/tb-admin 2/src/models/Posts.js","/Users/rapunzel/Documents/tb-admin 2/src/App.js","/Users/rapunzel/Documents/tb-admin 2/src/reportWebVitals.js","/Users/rapunzel/Documents/tb-admin 2/src/index.js"],"names":["baseConfig","userProfilePath","userAdminProp","localStorageTokenName","handleAuthStateChange","auth","config","firebase","firestore","doc","user","uid","get","snapshot","profile","data","console","log","getIdToken","firebaseToken","localStorage","setItem","signOut","removeItem","Error","firebaseLoaded","Promise","resolve","onAuthStateChanged","type","params","AUTH_LOGOUT","catch","currentUser","reload","AUTH_CHECK","AUTH_GET_PERMISSIONS","getIdTokenResult","token","claims","AUTH_LOGIN","username","password","alreadySignedIn","signInWithEmailAndPassword","convertFileToBase64","file","reject","reader","FileReader","readAsDataURL","rawFile","onload","result","onerror","addUploadFeature","requestHandler","resource","image","length","formerPictures","filter","p","File","newPictures","all","map","then","base64Pictures","picture64","src","title","transformedNewPictures","getImageSize","img","document","createElement","width","height","upload","fieldName","submitedData","id","resourceName","resourcePath","Array","isArray","name","ref","storage","child","put","getDownloadURL","downloadURL","uploadedAt","Date","indexOf","imageSize","error","save","previous","firebaseSaveFilter","uploadResults","isNew","timestampFieldNames","uploadResult","Object","assign","createdAt","updatedAt","set","del","uploadFields","delete","delMany","ids","previousData","getItemID","resourceData","itemId","key","collection","CREATE","getOne","exists","getList","pagination","values","snapshots","docs","push","item","meetsFilters","keys","sort","sortBy","order","field","i","page","perPage","_start","_end","slice","total","getMany","getManyReference","target","BaseConfiguration","initialQuerytimeout","RestProvider","firebaseConfig","options","trackedResources","resourcesStatus","resourcesData","resourcesPaths","resourcesUploadFields","apps","initializeApp","setPersistence","Auth","Persistence","SESSION","Methods","index","path","GET_LIST","GET_MANY","GET_MANY_REFERENCE","GET_ONE","DELETE","DELETE_MANY","UPDATE","uploads","currentData","newParams","entries","value","convertToArrayOfBase64Objects","convertToBase64Object","array","formerFields","newFiles","transformedNewFiles","MyLoginPage","theme","useState","email","setEmail","setPassword","login","useLogin","notify","useNotify","submit","e","preventDefault","createMuiTheme","defaultTheme","MyLogoutButton","forwardRef","props","logout","useLogout","handleClick","getDateTime","undefined","timestamp","toLocaleString","DateTimeField","source","record","getTimestampFirstDayOfKey","datetype","date","setDate","setHours","setMinutes","setSeconds","Math","round","Number","valueOf","setMonth","year","getFullYear","month","getMonth","toString","toLocaleDateString","DashChart","dataProvider","useDataProvider","setData","loading","setLoading","setError","useEffect","chartData","preDate","answer","report_timestamp","selDate","Notifications","top","right","left","bottom","CommentField","setTotal","comments","getDateByKey","NotificationList","isSmall","useMediaQuery","breakpoints","down","report_title","report_content","canEdit","CustomShowActions","basePath","NotificationShow","UserList","user_name","user_email","created_timestamp","EditTitle","UserEdit","UserCreate","PostFilter","PostList","views","published_at","PostTitle","PostEdit","PostCreate","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","authConfig","App","Dashboard","AuthProvider","label","AnnouncementIcon","UserIcon","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* globals localStorage */\nimport { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_GET_PERMISSIONS } from 'react-admin';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst baseConfig = {\n    userProfilePath: '/admin/',\n    userAdminProp: 'is_admin',\n    localStorageTokenName: 'RAFirebaseClientToken',\n    handleAuthStateChange: async (auth, config) => {\n        if (auth) {\n            const snapshot = await firebase\n            .firestore()\n            .doc(config.userProfilePath + auth.user.uid)\n            .get();\n            const profile = snapshot.data();\n\n            console.log(\"gisng\", config.userProfilePath + auth.user.uid);\n            if (profile && profile[config.userAdminProp]) {\n                const firebaseToken = await auth.user.getIdToken();\n                let user = { auth, profile, firebaseToken };\n                localStorage.setItem(config.localStorageTokenName, firebaseToken);\n                return user;\n            } else {\n                firebase.auth().signOut();\n                localStorage.removeItem(config.localStorageTokenName);\n                throw new Error('sign_in_error');\n        }\n        } else {\n            localStorage.removeItem(config.localStorageTokenName);\n            throw new Error('sign_in_error');\n        }\n    }\n};\n\nexport default (config = {}) => {\n    config = { ...baseConfig, ...config };\n\n    const firebaseLoaded = () =>\n        new Promise(resolve => {\n            firebase.auth().onAuthStateChanged(resolve);\n        });\n\n    return async (type, params) => {\n        if (type === AUTH_LOGOUT) {\n            config.handleAuthStateChange(null, config).catch(() => {});\n            return firebase.auth().signOut();\n        }\n\n        if (firebase.auth().currentUser) {\n            await firebase.auth().currentUser.reload();\n        }\n\n        if (type === AUTH_CHECK) {\n            await firebaseLoaded();\n\n            if (!firebase.auth().currentUser) {\n                throw new Error('sign_in_error');\n            }\n            return true;\n        }\n\n        if (type === AUTH_GET_PERMISSIONS) {\n            console.log('AUTH_GET_PERMISSIONS');\n            await firebaseLoaded();\n\n            if (!firebase.auth().currentUser) {\n                throw new Error('sign_in_error');\n            }\n\n            const token = await firebase.auth().currentUser.getIdTokenResult();\n            return token.claims;\n        }\n\n        if (type === AUTH_LOGIN) {\n            const { username, password, alreadySignedIn } = params;\n            let auth = firebase.auth().currentUser;\n\n            if (!auth || !alreadySignedIn) {\n                auth = await firebase.auth().signInWithEmailAndPassword(username, password);\n            }\n            return config.handleAuthStateChange(auth, config);\n        }\n\n        return false;\n    };\n};","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport sortBy from 'sort-by';\nimport { CREATE } from 'react-admin';\n\nconst convertFileToBase64 = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file.rawFile);\n\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = reject;\n  });\n\nconst addUploadFeature = requestHandler => (type, resource, params) => {\n  if (type === 'UPDATE') {\n    if (params.data.image && params.data.image.length) {\n      const formerPictures = params.data.image.filter(p => !(p.rawFile instanceof File));\n      const newPictures = params.data.image.filter(p => p.rawFile instanceof File);\n\n      return Promise.all(newPictures.map(convertFileToBase64))\n        .then(base64Pictures =>\n          base64Pictures.map(picture64 => ({\n            src: picture64,\n            title: `${params.data.title}`\n          }))\n        )\n        .then(transformedNewPictures =>\n          requestHandler(type, resource, {\n            ...params,\n            data: {\n              ...params.data,\n              image: [...transformedNewPictures, ...formerPictures]\n            }\n          })\n        );\n    }\n  }\n  // for other request types and reources, fall back to the defautl request handler\n  return requestHandler(type, resource, params);\n};\n\nconst getImageSize = file => {\n  return new Promise(resolve => {\n    const img = document.createElement('img');\n    img.onload = function() {\n      resolve({\n        width: this.width,\n        height: this.height\n      });\n    };\n    img.src = file.src;\n  });\n};\n\nconst upload = async (fieldName, submitedData, id, resourceName, resourcePath) => {\n  let file = submitedData[fieldName];\n  if (!file) {\n    return false;\n  }\n  \n  file = Array.isArray(file) ? file[0] : file;\n  \n  const rawFile = file.rawFile;\n\n  const result = {};\n  if (file && rawFile && rawFile.name) {\n    const ref = firebase\n      .storage()\n      .ref()\n      .child(`${resourcePath}/${id}/${fieldName}`);\n    const snapshot = await ref.put(rawFile);\n    const downloadURL = await snapshot.ref.getDownloadURL();\n    result[fieldName] = [{}];\n    result[fieldName][0].uploadedAt = new Date();\n    result[fieldName][0].src = downloadURL;\n    result[fieldName][0].type = rawFile.type;\n    result[fieldName][0].name = rawFile.name;\n    if (rawFile.type.indexOf('image/') === 0) {\n      try {\n        const imageSize = await getImageSize(file);\n        result[fieldName][0].width = imageSize.width;\n        result[fieldName][0].height = imageSize.height;\n      } catch (e) {\n        console.error(`Failed to get image dimensions`);\n      }\n    }\n    return result;\n  }\n  return false;\n};\n\nconst save = async (\n  id,\n  data,\n  previous,\n  resourceName,\n  resourcePath,\n  firebaseSaveFilter,\n  uploadResults,\n  isNew,\n  timestampFieldNames\n) => {\n  if (uploadResults) {\n    uploadResults.map(uploadResult => (uploadResult ? Object.assign(data, uploadResult) : false));\n  }\n\n  if (isNew) {\n    Object.assign(data, { [timestampFieldNames.createdAt]: new Date() });\n  }\n\n  data = Object.assign(previous, { [timestampFieldNames.updatedAt]: new Date() }, data);\n\n  if (!data.id) {\n    data.id = id;\n  }\n\n  await firebase\n    .firestore()\n    .doc(`${resourcePath}/${data.id}`)\n    .set(firebaseSaveFilter(data));\n  return { data };\n};\n\nconst del = async (id, resourceName, resourcePath, uploadFields) => {\n  if (uploadFields.length) {\n    uploadFields.map(fieldName =>\n      firebase\n        .storage()\n        .ref()\n        .child(`${resourcePath}/${id}/${fieldName}`)\n        .delete()\n    );\n  }\n\n  await firebase\n    .firestore()\n    .doc(`${resourcePath}/${id}`)\n    .delete();\n  return { data: id };\n};\n\nconst delMany = async (ids, resourceName, previousData) => {\n  await ids.map(id =>\n    firebase\n      .firestore()\n      .doc(`${resourceName}/${id}`)\n      .delete()\n  );\n  return { data: ids };\n};\n\nconst getItemID = (params, type, resourceName, resourcePath, resourceData) => {\n  let itemId = params.data.id || params.id || params.data.key || params.key;\n  if (!itemId) {\n    itemId = firebase\n      .firestore()\n      .collection(resourcePath)\n      .doc().id;\n  }\n\n  if (!itemId) {\n    throw new Error('ID is required');\n  }\n\n  if (resourceData && resourceData[itemId] && type === CREATE) {\n    throw new Error('ID already in use');\n  }\n\n  return itemId;\n};\n\nconst getOne = async (params, resourceName, resourceData) => {\n  if (params.id) {\n    let result = await firebase\n      .firestore()\n      .collection(resourceName)\n      .doc(params.id)\n      .get();\n\n    if (result.exists) {\n      const data = result.data();\n\n      if (data && data.id == null) {\n        data['id'] = result.id;\n      }\n      return { data: data };\n    } else {\n      throw new Error('Id not found');\n    }\n  } else {\n    throw new Error('Id not found');\n  }\n};\n\n/**\n * params example:\n * pagination: { page: 1, perPage: 5 },\n * sort: { field: 'title', order: 'ASC' },\n * filter: { author_id: 12 }\n */\n\nconst getList = async (params, resourceName, resourceData) => {\n  if (params.pagination) {\n    let values = [];\n    let snapshots = await firebase\n      .firestore()\n      .collection(resourceName)\n      .get();\n\n    for (const snapshot of snapshots.docs) {\n      const data = snapshot.data();\n      if (data && data.id == null) {\n        data['id'] = snapshot.id;\n      }\n      values.push(data);\n    }\n\n    if (params.filter) {\n      values = values.filter(item => {\n        let meetsFilters = true;\n        for (const key of Object.keys(params.filter)) {\n          meetsFilters = item[key] === params.filter[key];\n        }\n        return meetsFilters;\n      });\n    }\n\n    if (params.sort) {\n      values.sort(sortBy(`${params.sort.order === 'ASC' ? '' : '-'}${params.sort.field}`));\n    }\n\n    const keys = values.map(i => i.id);\n    const { page, perPage } = params.pagination;\n    const _start = (page - 1) * perPage;\n    const _end = page * perPage;\n    const data = values ? values.slice(_start, _end) : [];\n    const ids = keys.slice(_start, _end) || [];\n    const total = values ? values.length : 0;\n    return { data, ids, total };\n  } else {\n    throw new Error('Error processing request');\n  }\n};\n\nconst getMany = async (params, resourceName, resourceData) => {\n  let data = [];\n  /* eslint-disable no-await-in-loop */\n  for (const id of params.ids) {\n    let { data: item } = await getOne({ id }, resourceName, resourceData);\n    data.push(item);\n  }\n  return { data };\n};\n\nconst getManyReference = async (params, resourceName, resourceData) => {\n  if (params.target) {\n    if (!params.filter) params.filter = {};\n    params.filter[params.target] = params.id;\n    let { data, total } = await getList(params, resourceName, resourceData);\n    return { data, total };\n  } else {\n    throw new Error('Error processing request');\n  }\n};\n\nexport default {\n  upload,\n  save,\n  del,\n  delMany,\n  getItemID,\n  getOne,\n  getList,\n  getMany,\n  getManyReference,\n  addUploadFeature,\n  convertFileToBase64\n};","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport Methods from './methods';\n\nimport { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, DELETE, DELETE_MANY } from 'react-admin';\n\n/**\n * @param {string[]|Object[]} trackedResources Array of resource names or array of Objects containing name and\n * optional path properties (path defaults to name)\n * @param {Object} firebaseConfig Options Firebase configuration\n */\n\nconst BaseConfiguration = {\ninitialQuerytimeout: 10000,\ntimestampFieldNames: {\n    createdAt: 'createdAt',\n    updatedAt: 'updatedAt'\n}\n};\n\nconst RestProvider = (firebaseConfig = {}, options = {}) => {\n    options = Object.assign({}, BaseConfiguration, options);\n    const { timestampFieldNames, trackedResources } = options;\n\n    const resourcesStatus = {};\n    // const resourcesReferences = {};\n    const resourcesData = {};\n    const resourcesPaths = {};\n    const resourcesUploadFields = {};\n\n    if (firebase.apps.length === 0) {\n        firebase.initializeApp(firebaseConfig);\n        firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION);\n    }\n\n    /* Functions */\n    const upload = options.upload || Methods.upload;\n    const save = options.save || Methods.save;\n    const del = options.del || Methods.del;\n    const getItemID = options.getItemID || Methods.getItemID;\n    const getOne = options.getOne || Methods.getOne;\n    const getMany = options.getMany || Methods.getMany;\n    const getManyReference = options.getManyReference || Methods.getManyReference;\n    const delMany = options.delMany || Methods.delMany;\n    const getList = options.getList || Methods.getList;\n\n    const firebaseSaveFilter = options.firebaseSaveFilter ? options.firebaseSaveFilter : data => data;\n    // const firebaseGetFilter = options.firebaseGetFilter ? options.firebaseGetFilter : data => data;\n\n    // Sanitize Resources\n    trackedResources.map((resource, index) => {\n        if (typeof resource === Array) {\n        resource = {\n            name: resource['name'],\n            path: resource['path'] || resource['name'],\n            uploadFields: resource['uploadFields'] || []\n        };\n        trackedResources[index] = resource;\n        }\n\n        const { name, path, uploadFields } = resource;\n        if (!resource.name) {\n        throw new Error(`name is missing from resource ${resource}`);\n        }\n        resourcesUploadFields[name] = uploadFields || [];\n        resourcesPaths[name] = path || name;\n        resourcesData[name] = {};\n    });\n\n    /**\n     * @param {string} type Request type, e.g GET_LIST\n     * @param {string} resourceName Resource name, e.g. \"posts\"\n     * @param {Object} payload Request parameters. Depends on the request type\n     * @returns {Promise} the Promise for a REST response\n     */\n\n    return async (type, resourceName, params) => {\n        await resourcesStatus[resourceName];\n        let result = null;\n        switch (type) {\n        case GET_LIST:\n            // console.log(params);\n            result = await getList(params, resourcesPaths[resourceName], resourcesData[resourceName]);\n            return result;\n        case GET_MANY:\n            result = await getMany(params, resourcesPaths[resourceName], resourcesData[resourceName]);\n            // console.log('GET_MANY');\n            return result;\n\n        case GET_MANY_REFERENCE:\n            // console.log('GET_MANY_REFERENCE');\n            result = await getManyReference(params, resourcesPaths[resourceName], resourcesData[resourceName]);\n            return result;\n\n        case GET_ONE:\n            // console.log('GET_ONE');\n            result = await getOne(params, resourcesPaths[resourceName], resourcesData[resourceName]);\n            return result;\n\n        case DELETE:\n            // console.log('DELETE');\n            const uploadFields = resourcesUploadFields[resourceName] ? resourcesUploadFields[resourceName] : [];\n            result = await del(params.id, resourceName, resourcesPaths[resourceName], uploadFields);\n            return result;\n\n        case DELETE_MANY:\n            // console.log('DELETE_MANY');\n            result = await delMany(params.ids, resourcesPaths[resourceName], resourcesData[resourceName]);\n            return result;\n        case UPDATE:\n        case CREATE:\n            // console.log('UPDATE/CREATE');\n            let itemId = getItemID(params, type, resourceName, resourcesPaths[resourceName], resourcesData[resourceName]);\n            const uploads = resourcesUploadFields[resourceName]\n            ? resourcesUploadFields[resourceName].map(field =>\n                upload(field, params.data, itemId, resourceName, resourcesPaths[resourceName])\n                )\n            : [];\n            \n            const currentData = resourcesData[resourceName][itemId] || {};\n            const uploadResults = await Promise.all(uploads);\n            \n            result = await save(\n            itemId,\n            params.data,\n            currentData,\n            resourceName,\n            resourcesPaths[resourceName],\n            firebaseSaveFilter,\n            uploadResults,\n            type === CREATE,\n            timestampFieldNames\n            );\n            return result;\n\n        default:\n            console.error('Undocumented method: ', type);\n            return { data: [] };\n        }\n    };\n};\n\nexport default RestProvider;","const addUploadFeature = requestHandler => async (type, resource, params) => {\n    if (type === 'UPDATE' || type === 'CREATE') {\n      let newParams = {};\n      for (const [key, value] of Object.entries(params.data)) {\n        if (Array.isArray(value)) {\n          newParams[key] = await convertToArrayOfBase64Objects(value);\n        }\n        if (value && value.rawFile instanceof File) {\n          newParams[key] = await convertToBase64Object(value);\n        }\n      }\n  \n      params.data = {\n        ...params.data,\n        ...newParams\n      };\n    }\n    return requestHandler(type, resource, params);\n  };\n  \n  const convertFileToBase64 = file =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file.rawFile);\n  \n      reader.onload = () => resolve(reader.result);\n      reader.onerror = reject;\n    });\n  \n  const convertToBase64Object = async file => {\n    return {\n      src: await convertFileToBase64(file),\n      title: `${file.title}`\n    };\n  };\n  \n  const convertToArrayOfBase64Objects = async array => {\n    const formerFields = array.filter(p => !(p.rawFile instanceof File));\n    const newFiles = array.filter(p => p.rawFile instanceof File);\n    const transformedNewFiles = await Promise.all(newFiles.map(convertToBase64Object));\n  \n    return [...transformedNewFiles, ...formerFields];\n  };\n  \n  export default addUploadFeature;","import * as React from 'react';\nimport { useState } from 'react';\nimport { useLogin, useNotify, Notification, defaultTheme } from 'react-admin';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst MyLoginPage = ({ theme }) => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const login = useLogin();\n    const notify = useNotify();\n    const submit = e => {\n        e.preventDefault();\n        login({ email, password }).catch(() =>\n            notify('Invalid email or password')\n        );\n    };\n\n    return (\n        <ThemeProvider theme={createMuiTheme(defaultTheme)}>\n            <form onSubmit={submit}>\n                <input\n                    name=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={e => setEmail(e.target.value)}\n                />\n                <input\n                    name=\"password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n            </form>\n            <Notification />\n        </ThemeProvider>\n    );\n};\n\nexport default MyLoginPage;","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { useLogout } from 'react-admin';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst MyLogoutButton = forwardRef((props, ref) => {\n    const logout = useLogout();\n    const handleClick = () => logout();\n    return (\n        <MenuItem\n            onClick={handleClick}\n            ref={ref}\n        >\n            <ExitIcon /> Logout\n        </MenuItem>\n    );\n});\n\nexport default MyLogoutButton;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst getDateTime = value => {\n    if (value === undefined) {\n        return \"\";\n    } else {\n        const timestamp = new Date(value === undefined ? new Date() : value * 1000);\n        return timestamp.toLocaleString();\n    }\n    \n};\nconst DateTimeField = ({ source, record = {} }) => <span>{getDateTime(record[source])}</span>;\n\nDateTimeField.propTypes = {\n    label: PropTypes.string,\n    record: PropTypes.object,\n    source: PropTypes.string.isRequired,\n};\n\nexport default DateTimeField;","import React, { useState, useEffect } from 'react';\nimport { useDataProvider, Loading, Error} from 'react-admin';\nimport { ResponsiveContainer, AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip} from 'recharts';\nimport PropTypes from 'prop-types';\n\nfunction getTimestampFirstDayOfKey(datetype) {\n    var date = new Date();\n    date.setDate(1);\n    date.setHours(0);\n    date.setMinutes(0);\n    date.setSeconds(0);\n    \n    if (datetype === \"month\") {\n        return Math.round(Number(date.valueOf() / 1000));\n    } else {\n        date.setMonth(0);\n        return Math.round(Number(date.valueOf() / 1000));\n    }\n}\n\nconst getDateTime = (value, datetype) => {\n    if (value === undefined) {\n        return \"\";\n    } else {\n        const timestamp = new Date(value === undefined ? new Date() : value * 1000);\n        var year = timestamp.getFullYear();\n        var month = (1 + timestamp.getMonth()).toString();\n        month = month.length > 1 ? month : '0' + month;\n        \n        // return timestamp.toLocaleString();\n        if (datetype === \"month\")\n            return timestamp.toLocaleDateString();\n        else \n            return month + \"/\" + year;\n    }\n};\n\nconst DashChart = ({ datetype }) => {\n\n    const dataProvider = useDataProvider();\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState();\n\n    useEffect(() => {\n        dataProvider('GET_LIST', 'notifications', {\n            sort: { field: 'report_timestamp', order: 'ASC' },\n            pagination: { page: 1, perPage: 10000000 },\n        })\n            .then(({ data, total }) => {\n                setData(data);              \n                setLoading(false);\n            })\n            .catch(error => {\n                setError(error);\n                setLoading(false);\n            })\n    }, []);\n\n    var chartData = [];\n    if (loading) return <Loading />;\n    if (error) return <Error />;\n\n    var preDate = \"\"\n    data.map(async answer => {\n        if (!data || data.length === 0) {\n            return;\n        }\n\n        if (answer.report_timestamp < getTimestampFirstDayOfKey(datetype)) {\n            return;\n        }\n\n        const selDate = getDateTime(answer.report_timestamp, datetype);\n\n        if (preDate === selDate) {\n            chartData[chartData.length - 1].Notifications += 1;\n        } else {\n            chartData[chartData.length] = {\n                name: selDate,\n                Notifications  : 1\n            };\n            preDate = selDate;\n        }\n    });\n\n    return (\n        <ResponsiveContainer height={300} width='99%'>\n            <AreaChart \n            // width={500} height={400} \n            data={chartData} margin={{ top: 10, right: 30, left: 30, bottom: 0}}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" />\n                <YAxis />\n                <Tooltip />\n                <Area type=\"monotone\" dataKey=\"Notifications\" stroke=\"#8884d8\" fill=\"#8884d8\" />\n            </AreaChart>\n        </ResponsiveContainer>  \n        \n    );\n}\n\nDashChart.propTypes = {\n    datetype: PropTypes.string.isRequired,\n};\n\nexport default DashChart;","import React, { useState, useEffect } from 'react';\nimport {\n  TextField\n} from 'react-admin';\nimport { useDataProvider, Loading, Error } from 'react-admin';\n\nconst CommentField = ({ record }) => {\n    const dataProvider = useDataProvider();\n    const [total, setTotal] = useState();\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState();\n    useEffect(() => {\n        dataProvider.getList('reports', { pagination: { page: 1 , perPage: 100000 }, sort: {}, filter: {} })\n            .then(({ data, total }) => {\n                setTotal(total);                \n                setLoading(false);\n            })\n            .catch(error => {\n                setError(error);\n                setLoading(false);\n            })\n    }, []);\n    \n    var comments = {\n      result: total + \"  Comments\"\n    }\n  \n    if (loading) return <Loading />;\n    if (error) return <Error />;\n    if (!total) return <TextField record={comments} source=\"result\" />;\n  \n    return (\n      <TextField record={comments} source=\"result\" />\n    )\n  };\n\n  export default CommentField;","import * as React from \"react\";\nimport { Card, CardContent, CardHeader } from '@material-ui/core';\nimport {DashChart} from '../components'\n\nfunction getDateByKey(value) {\n    var date = new Date();\n    var year = date.getFullYear();\n    var month = (1 + date.getMonth()).toString();\n    month = month.length > 1 ? month : '0' + month;\n\n    if (value === \"month\")\n        return month + \"/\" + year;\n    else \n        return year;\n}\n\nexport default () => (\n    <Card>\n        <CardHeader title=\"Welcome to the administration\" />\n        <CardContent>Number of notifications per day this month ({getDateByKey(\"month\")}): </CardContent>\n        <DashChart datetype=\"month\"/>\n        <br />\n        <CardContent>Number of notifications per day this year ({getDateByKey(\"year\")}):</CardContent>\n        <DashChart datetype=\"year\"/>\n    </Card>\n);","import React from 'react';\nimport {\n  List, Datagrid, TextField,\n  Show, SimpleShowLayout, SimpleList,\n  DeleteButton, TopToolbar\n} from 'react-admin';\nimport { useMediaQuery} from '@material-ui/core';\nimport {DateTimeField} from '../components'\n\n\nexport const NotificationList = (props) => {\n\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n    return (\n        <List {...props} sort={{ field: 'report_timestamp', order: 'DESC' }}>\n            {isSmall ? (\n                <SimpleList\n                    primaryText={record => record.report_title}\n                    secondaryText={record => `${record.report_content} views`}\n                    tertiaryText={record => new Date(record.report_timestamp * 1000).toLocaleDateString()}\n                    linkType={record => record.canEdit ? \"edit\" : \"show\"}\n                />\n            ) : (\n                <Datagrid rowClick=\"show\">\n                    <TextField label=\"Title\" source=\"report_title\" />\n                    <TextField label=\"Content\" source=\"report_content\" />\n                    <DateTimeField label='Date' source='report_timestamp' />\n                    <TextField label='Sender Name' source='sender_name'/>\n                    <DeleteButton label='Delete'/>\n                </Datagrid>\n            )}\n        </List>\n    )\n};\n\n\nconst CustomShowActions = ({ basePath, data, resource }) => (\n    <TopToolbar>\n        {/* <EditButton basePath={basePath} record={data} /> */}\n        <DeleteButton undoable={false} basePath={basePath} record={data} resource={resource}/>\n    </TopToolbar>\n);\n\nexport const NotificationShow = props => (\n  <Show actions={<CustomShowActions />} {...props}>\n    <SimpleShowLayout>\n        <TextField label=\"Title\" source=\"report_title\" />\n        <TextField label=\"Content\" source=\"report_content\" />\n        <DateTimeField label=\"Date\" source=\"report_timestamp\" />\n        {/* <DeleteButton basePath={props.basePath} record={props.record} resource={props.resource}/> */}\n    </SimpleShowLayout>\n  </Show>\n);\n\n","import * as React from \"react\";\nimport { \n    List, Datagrid, SimpleList, TextField, EmailField,\n    SimpleForm, Create, TextInput, Edit,\n    EditButton\n} from 'react-admin';\nimport { useMediaQuery} from '@material-ui/core';\nimport {DateTimeField} from '../components'\n\nexport const UserList = (props) => {\n\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n    return (\n        <List {...props}>\n            {isSmall ? (\n                <SimpleList\n                    primaryText={record => record.user_name}\n                    secondaryText={record => `${record.user_email} views`}\n                    tertiaryText={record => new Date(record.created_timestamp * 1000).toLocaleDateString()}\n                    linkType={record => record.canEdit ? \"edit\" : \"show\"}\n                />\n            ) : (\n                <Datagrid rowClick=\"show\">\n                    <TextField source=\"user_name\" />\n                    <EmailField source=\"user_email\" />\n                    <DateTimeField label='Date' source=\"created_timestamp\" />\n                    {/* <EditButton label=\"Edit\"/> */}\n                </Datagrid>\n            )}\n        </List>\n    )\n};\n\n\nconst EditTitle = ({ record }) => {\n    return <span>Edit {record ? `\"${record.user_name}\"` : ''}</span>;\n};\n\nexport const UserEdit = props => (\n    <Edit title={<EditTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"user_name\" />\n            <TextInput source=\"user_email\" />\n            <TextInput disabled hidden={true} label=\"Created\" source=\"created_timestamp\" defaultValue={new Date()}/>\n        </SimpleForm>\n    </Edit>\n);\n\nexport const UserCreate = props => (\n    <Create {...props}>\n        <SimpleForm>\n            <TextInput source=\"user_name\" />\n            <TextInput source=\"user_email\" />\n            <TextInput source=\"user_password\" />\n        </SimpleForm>\n    </Create>\n);","import * as React from \"react\";\nimport { \n    List, Datagrid, TextField, ReferenceField, EditButton, \n    Filter, ReferenceInput, SelectInput, TextInput, SimpleForm, Edit, Create, SimpleList } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\n\n\nexport const PostFilter = (props) => (\n    <Filter {...props}>\n        <TextInput label=\"Search\" source=\"q\" alwaysOn />\n        <ReferenceInput label=\"User\" source=\"userId\" reference=\"users\" allowEmpty>\n            <SelectInput optionText=\"name\" />\n        </ReferenceInput>\n    </Filter>\n);\n\nexport const PostList = (props) => {\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <List filters={<PostFilter />} {...props}>\n            {isSmall ? (\n                <SimpleList\n                    primaryText={record => record.title}\n                    secondaryText={record => `${record.views} views`}\n                    tertiaryText={record => new Date(record.published_at).toLocaleDateString()}\n                />\n            ) : (\n                <Datagrid>\n                    <TextField source=\"id\" />\n                    <ReferenceField source=\"userId\" reference=\"users\">\n                        <TextField source=\"name\" />\n                    </ReferenceField>\n                    <TextField source=\"title\" />\n                    <TextField source=\"body\" />\n                    <EditButton />\n                </Datagrid>\n            )}\n        </List>\n    );\n}\n\nconst PostTitle = ({ record }) => {\n    return <span>Post {record ? `\"${record.title}\"` : ''}</span>;\n};\n\nexport const PostEdit = props => (\n    <Edit title={<PostTitle />} {...props}>\n        <SimpleForm>\n            <TextInput disabled source=\"id\" />\n            <ReferenceInput source=\"userId\" reference=\"users\">\n                {/* <SelectInput optionText=\"id\" /> */}\n                <SelectInput optionText=\"name\" />\n            </ReferenceInput>\n            {/* <TextInput source=\"id\" /> */}\n            <TextInput source=\"title\" />\n            {/* <TextInput source=\"body\" /> */}\n            <TextInput multiline source=\"body\" />\n        </SimpleForm>\n    </Edit>\n);\n\nexport const PostCreate = props => (\n    <Create {...props}>\n        <SimpleForm>\n            <ReferenceInput source=\"userId\" reference=\"users\">\n                <SelectInput optionText=\"name\" />\n            </ReferenceInput>\n            <TextInput source=\"title\" />\n            <TextInput multiline source=\"body\" />\n        </SimpleForm>\n    </Create>\n);","import * as React from \"react\";\nimport { Admin, Resource} from 'react-admin';\n\nimport {AuthProvider, RestProvider} from './lib';\nimport {MyLogoutButton} from './components'\nimport {\n    Dashboard,\n    NotificationList, NotificationShow,\n    UserList, UserEdit, UserCreate\n} from './models'\n\nimport AnnouncementIcon from '@material-ui/icons/Announcement';\nimport UserIcon from '@material-ui/icons/Group';\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB7g7YOyd8nA3vbt96Xajnv_9BPzbxSqXk\",\n    authDomain: \"transportationbermuda.firebaseapp.com\",\n    databaseURL: \"https://transportationbermuda.firebaseio.com\",\n    projectId: \"transportationbermuda\",\n    storageBucket: \"transportationbermuda.appspot.com\",\n    messagingSenderId: \"119896054784\",\n    appId: \"1:119896054784:web:5591ed16d38fd7fd2bcce5\",\n    measurementId: \"G-82141WYBBL\"\n};\n\nconst trackedResources = [\n    { name: 'notifications', path: 'reports_test' },\n    { name: 'app_users', path: 'tokens' },\n    { name: 'owner_users', path: 'users' }\n];\n\nconst authConfig = {\n    userProfilePath: '/admin/',\n    userAdminProp: 'is_admin'\n};\n\nconst dataProvider = RestProvider(firebaseConfig, { trackedResources });\n\nconst App = () => (\n    <Admin title=\"TB Admin\" dashboard={Dashboard} authProvider={AuthProvider(authConfig)} dataProvider={dataProvider}  logoutButton={MyLogoutButton}>\n        <Resource name=\"notifications\" options={{ label: 'Notifications' }} list={NotificationList} show={NotificationShow} icon={AnnouncementIcon}/>\n        {/* <Resource name=\"app_users\" list={PostList} edit={PostEdit} create={PostCreate}  icon={PostIcon}/> */}\n        <Resource name=\"owner_users\" list={UserList} edit={UserEdit} create={UserCreate} icon={UserIcon}/>\n    </Admin>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}